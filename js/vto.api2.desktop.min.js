!function(){var e={ctaTest:"belowImg",modelVideoId:"alessandra",showOnModel:!1,countryCode:"en-AU",upcGender:"female",currentVideo:"",currentUserId:"",userGender:"",userSize:"",noVTOModel:!0,clickedModel:!1,upcSupported:!1,glassesUpc:$(".product-upc").find(".upc").text()},o={settings:e,vtoElements:function(){var e=this;"viewBy"===e.settings.ctaTest?$('<a class="icon pdp-vto sgh-vto-overlay-open button__vto button__vto--below vto-hide" data-cta="viewBy" ><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 15 19"><defs><path id="a" d="M1.1 9.1c0-.1 0-.1 0 0 .4.8.7 1.7.9 1.9V9.8h.4v.1l.2.8c.1.3.2.6.4.8.2.2.6.3.9.3h1.3c.2 0 .5-.1.7-.2.3-.1.5-.3.6-.6.1-.1.1-.3.1-.4.1-.4.2-.7.2-.9h1c0 .2.1.5.2.9 0 .1.1.3.1.4.1.3.3.5.6.6.2.1.5.2.7.2h1.3c.3 0 .6-.1.9-.3.2-.2.4-.5.5-.7l.2-.8v-.1h.3l.1.8c.3-.5.5-1.1.7-1.7.1 0 .1.1.2.1.3.1.4.3.4.5v.2c0 .6-.1 1.1-.4 1.6-.1.2-.2.4-.4.6-.1.1-.2.2-.4.3l-.2.1-.1.2c-.3 1.4-.9 2.6-1.9 3.7-.9.9-2 1.4-3.3 1.4s-2.3-.4-3.2-1.3c-.9-1.1-1.6-2.3-1.9-3.7l-.1-.2-.1-.1c-.2-.1-.3-.2-.4-.3-.2-.3-.4-.7-.5-1-.1-.4-.2-.8-.2-1.2v-.2c0-.3 0-.5.2-.6zm2.7-4.2s.9-1.6 2.3-.5 3 3.1 6.4 3.1l.2 1.7h-.3s0-.5-.9-.6H8.8c-.4 0-.7.2-.8.5H6.8c-.1-.3-.4-.5-.7-.5H3.3c-.9.1-.9.6-.9.6h-.3c.1-1.8.5-4.3 1.7-4.3zM.9 12.7c.2.2.3.3.6.4.3 1.4 1 2.8 2 3.9s2.4 1.7 3.9 1.7 2.9-.6 3.9-1.7 1.7-2.4 2-3.9c.2-.1.4-.3.6-.4.3-.4.6-.8.7-1.3.2-.5.2-1 .2-1.5v-.3c0-.4-.2-.8-.4-1.1-.2-.2-.3-.3-.6-.4 0-.2.1-.4.1-.6.4-2.1-.1-5.9-4.4-7.2C7.2-.5 4.7.2 3.1 2c0 0-3 .9-2.2 6.2-.2 0-.3.1-.4.3-.3.3-.5.7-.5 1v.3c0 .7.2 1.3.4 2 .2.3.3.6.5.9z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><g clip-path="url(#b)"><defs><path id="c" d="M-126-581h375v1740h-375z"/></defs><clipPath id="d"><use xlink:href="#c" overflow="visible"/></clipPath><path clip-path="url(#d)" d="M-5-5h24.8v28.7H-5z"/></g></svg> <span></span</a>').appendTo("#pdp-display .viewBy"):"belowImg"===e.settings.ctaTest?($($("<a/>").addClass(" sgh-vto-overlay-open button__vto button__vto--grey-button vto-hide").attr("data-cta","belowImg").prepend('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 15 19"><defs><path id="a" d="M1.1 9.1c0-.1 0-.1 0 0 .4.8.7 1.7.9 1.9V9.8h.4v.1l.2.8c.1.3.2.6.4.8.2.2.6.3.9.3h1.3c.2 0 .5-.1.7-.2.3-.1.5-.3.6-.6.1-.1.1-.3.1-.4.1-.4.2-.7.2-.9h1c0 .2.1.5.2.9 0 .1.1.3.1.4.1.3.3.5.6.6.2.1.5.2.7.2h1.3c.3 0 .6-.1.9-.3.2-.2.4-.5.5-.7l.2-.8v-.1h.3l.1.8c.3-.5.5-1.1.7-1.7.1 0 .1.1.2.1.3.1.4.3.4.5v.2c0 .6-.1 1.1-.4 1.6-.1.2-.2.4-.4.6-.1.1-.2.2-.4.3l-.2.1-.1.2c-.3 1.4-.9 2.6-1.9 3.7-.9.9-2 1.4-3.3 1.4s-2.3-.4-3.2-1.3c-.9-1.1-1.6-2.3-1.9-3.7l-.1-.2-.1-.1c-.2-.1-.3-.2-.4-.3-.2-.3-.4-.7-.5-1-.1-.4-.2-.8-.2-1.2v-.2c0-.3 0-.5.2-.6zm2.7-4.2s.9-1.6 2.3-.5 3 3.1 6.4 3.1l.2 1.7h-.3s0-.5-.9-.6H8.8c-.4 0-.7.2-.8.5H6.8c-.1-.3-.4-.5-.7-.5H3.3c-.9.1-.9.6-.9.6h-.3c.1-1.8.5-4.3 1.7-4.3zM.9 12.7c.2.2.3.3.6.4.3 1.4 1 2.8 2 3.9s2.4 1.7 3.9 1.7 2.9-.6 3.9-1.7 1.7-2.4 2-3.9c.2-.1.4-.3.6-.4.3-.4.6-.8.7-1.3.2-.5.2-1 .2-1.5v-.3c0-.4-.2-.8-.4-1.1-.2-.2-.3-.3-.6-.4 0-.2.1-.4.1-.6.4-2.1-.1-5.9-4.4-7.2C7.2-.5 4.7.2 3.1 2c0 0-3 .9-2.2 6.2-.2 0-.3.1-.4.3-.3.3-.5.7-.5 1v.3c0 .7.2 1.3.4 2 .2.3.3.6.5.9z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><g clip-path="url(#b)"><defs><path id="c" d="M-126-581h375v1740h-375z"/></defs><clipPath id="d"><use xlink:href="#c" overflow="visible"/></clipPath><path clip-path="url(#d)" d="M-5-5h24.8v28.7H-5z"/></g></svg>').append('<span class="button__vto__text--grey-button"></span>')).prependTo(".viewBy"),$("#pdp").addClass("vto__belowImg")):$($("<a/>").addClass("black-button sgh-vto-overlay-open button__vto button__vto--left-side vto-hide").attr("data-cta","leftSide").prepend('<i class="icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 15 19"><defs><path id="a" d="M1.1 9.1c0-.1 0-.1 0 0 .4.8.7 1.7.9 1.9V9.8h.4v.1l.2.8c.1.3.2.6.4.8.2.2.6.3.9.3h1.3c.2 0 .5-.1.7-.2.3-.1.5-.3.6-.6.1-.1.1-.3.1-.4.1-.4.2-.7.2-.9h1c0 .2.1.5.2.9 0 .1.1.3.1.4.1.3.3.5.6.6.2.1.5.2.7.2h1.3c.3 0 .6-.1.9-.3.2-.2.4-.5.5-.7l.2-.8v-.1h.3l.1.8c.3-.5.5-1.1.7-1.7.1 0 .1.1.2.1.3.1.4.3.4.5v.2c0 .6-.1 1.1-.4 1.6-.1.2-.2.4-.4.6-.1.1-.2.2-.4.3l-.2.1-.1.2c-.3 1.4-.9 2.6-1.9 3.7-.9.9-2 1.4-3.3 1.4s-2.3-.4-3.2-1.3c-.9-1.1-1.6-2.3-1.9-3.7l-.1-.2-.1-.1c-.2-.1-.3-.2-.4-.3-.2-.3-.4-.7-.5-1-.1-.4-.2-.8-.2-1.2v-.2c0-.3 0-.5.2-.6zm2.7-4.2s.9-1.6 2.3-.5 3 3.1 6.4 3.1l.2 1.7h-.3s0-.5-.9-.6H8.8c-.4 0-.7.2-.8.5H6.8c-.1-.3-.4-.5-.7-.5H3.3c-.9.1-.9.6-.9.6h-.3c.1-1.8.5-4.3 1.7-4.3zM.9 12.7c.2.2.3.3.6.4.3 1.4 1 2.8 2 3.9s2.4 1.7 3.9 1.7 2.9-.6 3.9-1.7 1.7-2.4 2-3.9c.2-.1.4-.3.6-.4.3-.4.6-.8.7-1.3.2-.5.2-1 .2-1.5v-.3c0-.4-.2-.8-.4-1.1-.2-.2-.3-.3-.6-.4 0-.2.1-.4.1-.6.4-2.1-.1-5.9-4.4-7.2C7.2-.5 4.7.2 3.1 2c0 0-3 .9-2.2 6.2-.2 0-.3.1-.4.3-.3.3-.5.7-.5 1v.3c0 .7.2 1.3.4 2 .2.3.3.6.5.9z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><g clip-path="url(#b)"><defs><path id="c" d="M-126-581h375v1740h-375z"/></defs><clipPath id="d"><use xlink:href="#c" overflow="visible"/></clipPath><path clip-path="url(#d)" d="M-5-5h24.8v28.7H-5z"/></g></svg></i>').append('<span class="button__vto__text"></span>')).appendTo(".cart-button"),$($("<div/>").attr("id","vto-on-model").addClass("vto-on-model__container vto-hide").append('<p class="vto-on-model__disclaimer" >Model Head Size: Average</p').append('<div id="vto_modal_app_root" >vto_model_root</div>').append($("<div/>").addClass("vto-on-model__toggle vto-on-model__toggle--disable").append('<a class="vto-on-model__button-female outlineButton outlineButton--active" data-model-name="women" >Female</a>').append('<a class="vto-on-model__button-male outlineButton" data-model-name="men" >Male</a>')).append('<p class="vto-on-model__copy" >Want to see these on yourself? <br> <a class="sgh-vto-overlay-open" data-cta="on-model">Try Them On</a>!</p')).appendTo(".brandImg.lazy-container"),$($("<div/>").attr("id","sgh-vto-overlay_model").addClass("vto-hide").append('<span id="user-id">c4a6953b-986c-4549-a927-a7c5d4ea1054</span>').append($("<div/>").attr("id","sgh-vto-vtomodel-container").prepend($("<div/>").attr("id","sgh-vto-overlay-video-buttons").append('<a id="vto-open-edit" class="vto-hide" >Options</a> '))).append('<div class="vto-hide" id="render-success"><span id="video-id">video-id</span> <span id="render-success-time">&quot;video-id</span> <span id="render-success-time"><!--render--></span> <span id="video-id">video-id</span></div>')).appendTo("#pdp-display >#product"),$($("<div/>").attr("id","sgh-vto-video-edit-container").addClass("vto-hide vto-video-edit-modal-initial").append($("<div/>").attr("id","sgh-vto-video-edit").addClass("sgh-vto-video-edit-modal").append('<i class="modal-close vto-option-cancel">&#10006;</i>').append($("<div/>").addClass("vto-edit-page vto-edit-initial").append("<p>VIRTUAL MODEL OPTIONS</p>").append('<a class="vto-retake-button button black-button bordered" >RETAKE MY VIDEO</a>').append('<a class="vto-delete-button button black-button bordered">REMOVE MY VIRTUAL MODEL</a>')).append($("<div/>").addClass("vto-edit-page vto-edit-retake").append("<p>RETAKING YOUR VIDEO WILL REMOVE YOUR CURRENT ONE </p>").append('<a class="button black-button vto-option-cancel" >CANCEL</a>').append('<a class="vto-retake-confirm button black-button bordered">RETAKE</a>')).append($("<div/>").addClass("vto-edit-page vto-edit-delete").append("<p>ARE YOU SURE YOU WANT TO REMOVE YOUR VIRTUAL MODEL? </p>").append('<a class="vto-option-cancel button button black-button" >CANCEL</a>').append('<a class="vto-delete-confirm button black-button bordered">REMOVE</a>'))).append('<div class="sgh-vto-video-edit-background vto-option-cancel"></div>')).appendTo("#page"),$($("<div/>").attr("id","sgh_vto_overlay").addClass("vto-hide").append($("<div/>").attr("id","sgh-vto-overlay_video").append('<span id="user-id">c4a6953b-986c-4549-a927-a7c5d4ea1054</span>').append('<i class="modal-close sgh-vto-overlay-close">&#10006; Close</i>').append('<h3 class="vto-create-header">CREATE YOUR VIRTUAL MODEL</h3>').append($("<div/>").attr("id","sgh-vto-video-container").append('<div id="vto_app_root" class="vto-hide">vto_app_root</div>'))).append('<div class="vto-overlay-background"></div>')).appendTo("#pdp"),$(".sgh-vto-overlay-close").on("click",function(){e.vtoClose(),e.closeVTOModelWindow()}),$(".sgh-vto-model-close").on("click",function(){e.closeVTOModelWindow(),e.analyticsTrack("closed vto")}),$(".vto-on-model__toggle a").on("click",function(){var o=$(this).data("model-name");$(".vto-on-model__toggle").addClass("vto-on-model__toggle--disable"),$(".vto-on-model__toggle a").removeClass("outlineButton--active"),$(this).addClass("outlineButton--active"),$.cookie("vtoModelId",o,{expires:14,path:"/",domain:"sunglasshut.com"}),e.settings.upcGender=o,e.settings.clickedModel=!0,e.clearModelCanvas(),e.settings.showOnModel===!0&&e.buildOnModel(),e.analyticsTrack("changed model: "+o)})},clearModelCanvas:function(){$("#vto-on-model__root").height($(window).width())},getPDPGender:function(){var e=this,o="/webapp/wcs/stores/servlet/GetCatalogEntryDetailsByID?catalogId=10101&langId=-1&storeId=10152&productId=",t=e.settings.glassesUpc;$(".ajax-loader-wrap, #ajax-container").hide(),window.jQuery.ajax(o+t,{type:"get",async:!0,crossDomain:!0,success:function(o){var t=o.trim().replace("/*","");t=t.replace("*/","");for(var a=JSON.parse(t),n="",i=[],s=a.catalogEntryAttributes.attributes,d=0;d<s.length;d++){var r=s[d].name;if("Gender"===r){n=a.catalogEntryAttributes.attributes[d].values;for(var c=0;c<n.length;c++)i[c]=n[c].value}}i=i.toString(),i=i.toLowerCase(),e.settings.upcGender=i,e.buildOnModel(o)},complete:function(){$(".ajax-loader-wrap, #ajax-container").show()},error:function(){e.buildOnModel(data),console.log("error")}})},hideOnModel:function(e){$("#vto-on-model").hide(),$("#vto_modal_app_root").hide().insertAfter("#sgh-vto-overlay-video-buttons"),$(".brandImg.lazy-container img.lazy").removeClass("vto-hide").show()},buildOnModel:function(e){function o(){$("#vto-on-model").fadeIn(300),setTimeout(function(){$(".vto-on-model__toggle").removeClass("vto-on-model__toggle--disable")},800)}function t(){setTimeout(function(){$("#vto-on-model #vto_modal_app_root").show()},300),VtoApp.renderGlasses("vto_modal_app_root",s,n,{width:480,height:480},o(),a.genericErrorHandler,{showRotateBar:!0})}var a=this,n=a.settings.glassesUpc,i=a.settings.currentUserId,s=(a.settings.noVTOModel,utag.data.page_type,a.settings.modelVideoId),d={demo:{onPageLoad:function(){a.analyticsTrack("step 1: instructions")},onFaceSwipe:function(){},onCreateModel:function(){},createModelClass:"vto-create-model"},capture:{onPageLoad:function(){a.analyticsTrack("step 2: capture")},onValidHeadtrack:function(){a.analyticsTrack("step 2: capture: valid head track")},onWebcamAllowed:function(){}},browsererror:{onPageLoad:function(){a.analyticsTrack("error: browser ")}},deviceerror:{onPageLoad:function(){a.analyticsTrack("error: device")}},permissionerror:{onPageLoad:function(){a.analyticsTrack("error: permission")}},processingerror:{onPageLoad:function(){a.analyticsTrack("error: processing")},onRetry:function(){}},uploaderror:{onPageLoad:function(){a.analyticsTrack("error: upload")},onRetry:function(){}},upload:{onPageLoad:function(){a.analyticsTrack("step 3: select size and gender:")}},processing:{onPageLoad:function(){a.analyticsTrack("step 4: uploaded video: processing")}},preview:{onPageLoad:function(){a.analyticsTrack("step 4: preview")},onFaceSwipe:function(){a.analyticsTrack("step 4: preview: face swipe")},onRetake:function(){a.analyticsTrack("step 4: preview: retake")},onSave:function(){a.analyticsTrack("step 4: preview: save")},onContinue:function(){a.analyticsTrack("step 4: preview: on continue")}},render:{onPageLoad:function(){},onFaceSwipe:function(){$("#sgh_vto_overlay.active").length?a.analyticsTrack("vto pdp: swipe face: on user"):a.analyticsTrack("vto pdp: swipe face: on model")},onRenderGlasses:function(){}},comingsoon:{onPageLoad:function(){a.analyticsTrack("coming soon")}},rendererror:{onPageLoad:function(){a.analyticsTrack("error: render")}}};if($(".brandImg.lazy-container img.lazy").addClass("vto-hide").hide(),"men"!==a.settings.upcGender||$.cookie("vtoModelId")||($(".vto-on-model__toggle a").removeClass("outlineButton--active"),$(".vto-on-model__button-male").addClass("outlineButton--active"),s="zak"),$.cookie("vtoId")&&"deleted"!=a.settings.currentVideo&&""!=a.settings.currentVideo&&"deleted"!=$.cookie("vtoId")&&a.settings.clickedModel===!1){var r=JSON.parse($.cookie("vtoId"));"women"===r.cat?(s="alessandra",$(".vto-on-model__toggle a").removeClass("outlineButton--active"),$(".vto-on-model__button-female").addClass("outlineButton--active")):"men"===r.cat&&(s="zak",$(".vto-on-model__toggle a").removeClass("outlineButton--active"),$(".vto-on-model__button-male").addClass("outlineButton--active"))}else $.cookie("vtoModelId")&&("women"===$.cookie("vtoModelId")?(s="alessandra",$(".vto-on-model__toggle a").removeClass("outlineButton--active"),$(".vto-on-model__button-female").addClass("outlineButton--active")):"men"===$.cookie("vtoModelId")&&(s="zak",$(".vto-on-model__toggle a").removeClass("outlineButton--active"),$(".vto-on-model__button-male").addClass("outlineButton--active")));if($.cookie("vtoId")&&"deleted"!==a.settings.currentVideo&&""!==a.settings.currentVideo){var r=JSON.parse($.cookie("vtoId"));a.settings.currentUserId=r.userId,a.settings.currentVideo=r.videoId,a.settings.currentVideo&&(a.settings.noVTOModel=!1)}VtoApp.init(i,n,"sunglasshut","en-US","master",d,function(e){t()},a.genericErrorHandler,{modelName:s}),a.settings.clickedModel=!1},analyticsTrack:function(e){var o=this,t=o.settings.currentVideo,a=o.settings.noVTOModel,n=o.settings.userGender,i=o.settings.userSize,s="new",d="";o.settings.showOnModel===!0&&(d="onmodel: "),t&&"undefined"!=t&&"deleted"!=t&&a!==!0&&(s="returning"),""!==n&&void 0!==n?n+=": ":n="",""!==i&&void 0!==i?i+=": ":i="";var r=[{upc:o.settings.glassesUpc}],c={link_name:"sgh: vto: "+d+s+": "+n+i+e,site_events:{see_their_shades:!0},prd_upc:[o.settings.glassesUpc],products:r,authenticated_status:utag_data.authenticated_status||"",language:utag_data.language||"",cntry:utag_data.country||""};_trackAnalytics(c)},runUserZoomSurvey:function(){OOo.oo_exit.interruptShow=!0;var e=this,o="BDAB5B67369EE71180CF0050569444FB";e.settings.showOnModel===!0&&(o="396749E93581E71180CF0050569444FB"),_uzactions=[],_uzactions.push(["_setID",o]),_uzactions.push(["_setSID","771F242E3381E71180CF0050569444FB"]),_uzactions.push(["_start"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.charset="utf-8",e.src=("https:"==document.location.protocol?"https://":"http://")+"cdn5.userzoom.com/trueintent/js/uz_til_us.js?cuid=47E7EF406CCDE41180C90050569444FB";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(e,o)}()},vtoClose:function(){var e=this;$("#vto_modal_app_root").hide().insertBefore("#vto-on-model .vto-on-model__toggle"),e.settings.showOnModel===!0&&sghVTO.buildOnModel(),$("#page-wrapper").removeClass("vto-disable-scrolling").bind("touchmove"),$("#sgh_vto_overlay").removeClass("active").hide(),$("body").removeClass("vto-disable-scrolling"),e.runUserZoomSurvey(),e.analyticsTrack("closed vto")},closeVTOModelWindow:function(){var e=this;$("#vto_modal_app_root").hide().insertBefore("#vto-on-model .vto-on-model__toggle"),e.settings.showOnModel===!0&&sghVTO.buildOnModel(),$("#pdp-container").removeClass("show-vto"),$("body").removeClass("show-vto"),$("#sgh-vto-overlay_model").addClass("vto-hide").removeClass("active"),e.analyticsTrack("closed vto model")},genericErrorHandler:function(e){var o=e.toString();o.indexOf("resource is not available")>=0&&sghVTO.resourceNotAvailable(),$("#vto_app_root").hide(),$("#sgh-vto-overlay_video").hide(),$("#vto_start_button").addClass("hide");var t={link_name:"sgh: vto: generic error: "+e,site_events:{see_their_shades:!0},authenticated_status:utag_data.authenticated_status||"",language:utag_data.language||"",cntry:utag_data.country||""};_trackAnalytics(t)},resourceNotAvailable:function(){sghVTO.analyticsTrack("vto-id-reset");var e=!0,o=sghVTO.settings.glassesUpc,t=sghVTO.settings.currentUserId,a=jQuery.parseJSON('{ "userId": "'+t+'", "retake": "'+e+'", "upc": "'+o+'"}');$.cookie("vtoCapture",JSON.stringify(a),{path:"/",domain:"sunglasshut.com"}),sghVTO.deleteSucceeded()},getVtoSize:function(e){var o=$(window).width()/e,t=$(window).height()/e;return o>t&&(o=t),{width:o,height:o}},captureCookie:function(e){var o=this,t=o.settings.glassesUpc,a=o.settings.currentUserId,n=jQuery.parseJSON('{ "userId": "'+a+'", "retake": "'+e+'", "upc": "'+t+'"}');$.cookie("vtoCapture",JSON.stringify(n),{path:"/",domain:"sunglasshut.com"})},deleteSucceeded:function(){var e=this,o=e.settings.currentUserId;if($.cookie("vtoId")){var t=jQuery.parseJSON('{ "userId": "'+o+'", "videoId": "deleted"}');$.cookie("vtoId",JSON.stringify(t),{expires:60,path:"/",domain:"sunglasshut.com"})}e.settings.currentVideo="",e.analyticsTrack("option modal: delete modal: confirmed");var a="http://"+window.location.host+window.location.pathname;location.href=a,e.closeVTOModelWindow(),$("#sgh-vto-video-container").addClass("active"),$("#sgh-vto-vtomodel-container").removeClass("active"),$("a.sgh-vto-overlay-open").find("span").text("TRY THEM ON"),$("#sgh-vto-overlay_container").show(),$("#vto-open-edit").hide(),$("#sgh-vto-video-edit-container").hide().addClass("vto-video-edit-modal-initial").removeClass("vto-video-edit-modal-delete").removeClass("vto-video-edit-modal-retake"),$("#vto_modal_app_root").html(""),e.settings.currentVideo="",e.settings.noVTOModel=!0},vtoApplication:function(e){function o(){$(".fullscreenable .info-container").length<1&&$(".fullscreenable div.renderer:not(.preview-page)").after('<div class="info-container vto-hide"></div>');var e=$("#update_cart_total .info-container").find(".brand").text(),o=$("#update_cart_total .info-container").find(".price").text(),t=$("#update_cart_total .info-container").find(".style").first().text(),a=$(".styleInfo ").find("li:eq(5)").html(),n=$(".swatchesTitle").find("h3").html(),i=$("#update_cart_total .info-container > .catalog-polarized").length,s=i?'<p class="catalog-polarized">Polarized</p>':"";$("#sgh_vto_overlay .info-container").html('<p class="brand">'+e+"</p>"+s+'<p class="price">'+o+'</p><p class="style">'+t+'</p><p class="swatch">'+n+'</p><p class="fit">'+a+"</p>")}function t(){if($.cookie("vtoCapture")){var e=JSON.parse($.cookie("vtoCapture"));return l.settings.currentUserId=e.userId,"true"===e.retake&&(g=!0),e.userId}}function a(){var e=jQuery.parseJSON('{ "userId": "'+u+'", "videoId": "'+h+'", "cat": "'+l.settings.userGender+'", "style": "'+l.settings.userSize+'" }');$.cookie("vtoId",JSON.stringify(e),{expires:300,path:"/",domain:"sunglasshut.com"}),l.settings.currentVideo=h,l.settings.currentUserId=u;$.cookie("vtoId");$("#sgh-vto-overlay-video-buttons.vto-hide").removeClass("vto-hide"),$("#sgh-vto-video-container").removeClass("active"),$("#vto-open-edit").delay(300).fadeIn(300),1!=w&&(o(),$("#vto-open-edit").on("click",function(){$("#sgh-vto-video-edit-container").fadeIn(300),l.analyticsTrack("option modal:")}),$(".p3dzoom-icon-link, .viewBy .fit, .viewBy .pdp-zoom").on("click",function(){$("#pdp-container.show-vto").length>0&&l.closeVTOModelWindow()}),$(".vto-option-cancel").on("click",function(){$("#sgh-vto-video-edit-container").fadeOut(300),$("#sgh-vto-video-edit-container").addClass("vto-video-edit-modal-initial").removeClass("vto-video-edit-modal-delete").removeClass("vto-video-edit-modal-retake"),l.analyticsTrack("option modal: cancel")}),$(".vto-retake-button").on("click",function(){$("#sgh-vto-video-edit-container").addClass("vto-video-edit-modal-retake").removeClass("vto-video-edit-modal-delete").removeClass("vto-video-edit-modal-initial"),l.analyticsTrack("option modal: retake modal:")}),$(".vto-retake-cancel").on("click",function(){$("#sgh-vto-video-edit-container").addClass("vto-video-edit-modal-initial").removeClass("vto-video-edit-modal-delete").removeClass("vto-video-edit-modal-retake"),l.analyticsTrack("option modal: retake modal: cancel")}),$(".vto-retake-confirm").on("click",function(){var e;l.analyticsTrack("option modal: retake modal: confirmed"),g=!0,l.captureCookie(g),OOo.oo_exit.interruptShow=!0,e="https://"+window.location.host+window.location.pathname,location.href=e}),$(".vto-delete-cancel").on("click",function(){$("#sgh-vto-video-edit-container").addClass("vto-video-edit-modal-initial").removeClass("vto-video-edit-modal-delete").removeClass("vto-video-edit-modal-retake"),l.analyticsTrack("option modal: delete modal: cancel")}),$(".vto-delete-confirm").on("click",function(){l.deleteSucceeded()}),$(".vto-delete-button").on("click",function(){$("#sgh-vto-video-edit-container").removeClass("vto-video-edit-modal-initial").removeClass("vto-video-edit-modal-retake").addClass("vto-video-edit-modal-delete"),l.analyticsTrack("option modal: delete modal:")}),$("a.sgh-vto-overlay-open").find("span").text("VIRTUAL MODEL"),w=!0),$("#sgh_vto_overlay .info-container").delay(200).fadeIn(300),$("#sgh-vto-overlay_container").hide(),l.analyticsTrack("vto pdp:"),g=!1,m=!1}function n(e){$("#pdp-container").addClass("show-vto"),$("body").addClass("show-vto"),$("#sgh-vto-vtomodel-container").addClass("active").removeClass("vto-hide"),$("#video-id").text(h),setTimeout(function(){$("#sgh-vto-vtomodel-container #vto_modal_app_root").show()},300),VtoApp.renderGlasses("vto_modal_app_root",h,v,{width:480,height:480},a,l.genericErrorHandler,{showRotateBar:!0}),_=e,g=!1,$("#sgh-vto-video-container").removeClass("active")}function i(e,o){h=e,l.settings.userGender=o.gender,l.settings.userSize=o.fit,$("#pdp-container").addClass("show-vto"),$("body").addClass("show-vto"),$("#sgh_vto_overlay").removeClass("active").addClass("vto-hide").hide(),$("#sgh-vto-overlay_model").addClass("active").removeClass("vto-hide"),setTimeout(function(){$("#sgh-vto-vtomodel-container #vto_modal_app_root").show()},300),VtoApp.renderGlasses("vto_modal_app_root",h,v,{width:480,height:480},a,l.genericErrorHandler,{showRotateBar:!0})}function s(){$("#sgh_vto_overlay").addClass("active").removeClass("vto-hide").show(),$("body").addClass("show-vto"),$(".vto-try-them-on").hide(),VtoApp.startCapture("vto_app_root",u,v,{width:480,height:480},{onCloseVto:l.vtoClose,showWelcomePage:!0,showScalingQuestions:!0,showReviewWithGlasses:!1,showSaveToAccount:!1},i,i,l.genericErrorHandler),$(p).removeClass("vto-hide").show(),$("#sgh-vto-overlay_video").show(),$("#sgh-vto-overlay_container").hide()}function d(){var e=jQuery.parseJSON('{ "userId": "'+u+'"  }');$.cookie("vtoId",JSON.stringify(e),{expires:300,path:"/",domain:"sunglasshut.com"})}function r(){$(".pdpZoom.lazy-container").css("opacity",""),$("#product").removeClass("showingRotator"),$(".p3dzoom-icon-link").removeClass("redesignPdp-rotate-active active").addClass("redesignPdp-rotate-inactive"),$("#pdpImage img").remove(),$(".iviewer_toggle").children().remove(),$("#zoomViewer").hide().removeClass("open"),$(".close","#right-nav").show(),$(".fit",".viewBy").removeClass("redesignPdp-fit-active active").addClass("redesignPdp-fit-inactive"),$("#fit-overlay").hide(),$("#p3dzoom-image").unreel(),$(".p3dzoom-rotate-btn").unbind()}function c(e){var o=$("a.sgh-vto-overlay-open"),a=l.settings.modelVideoId;VtoApp.init(u,v,"sunglasshut",l.settings.countryCode,"master",y,function(e,a){u?u=e:(u=e,d()),a.webcamCapture===!0&&a.rendering===!0&&l.settings.upcSupported===!0?(void 0===t()&&g===!1&&l.settings.showOnModel===!0&&(""===f?l.getPDPGender():l.buildOnModel()),h&&"undefined"!=h?(o.find("span").text("VIRTUAL MODEL"),o.removeClass("vto-hide").addClass("vto-show")):(o.find("span").text("TRY THEM ON"),o.removeClass("vto-hide").addClass("vto-show")),!h&&void 0!==t()||g===!0?(s(l.settings.currentUserId),l.hideOnModel(),o.on("click",function(){var e=$(this).attr("data-cta"),o=$(this).parent();if(""===h||"deleted"===h||"undefined"===h){g=!0,OOo.oo_exit.interruptShow=!0,l.analyticsTrack("clicked try on: "+e),OOo.oo_exit.interruptShow=!0;var t="https://"+window.location.host+window.location.pathname;l.captureCookie(g),location.href=t}else if(r(),l.hideOnModel(),o.is(".vto-on-model__copy")&&$("html, body").animate({scrollTop:0},500),h&&$(".show-vto").length<1?($("#sgh-vto-overlay_model").addClass("active").removeClass("vto-hide"),n(v),l.settings.currentVideo=h,m=!0):$(".show-vto").length>0?l.closeVTOModelWindow():$("#sgh_vto_overlay").addClass("active").removeClass("vto-hide").show(),$("body.show-vto").length>0){var e=$(this).attr("data-cta");l.analyticsTrack("clicked try on: "+e)}}),$.cookie("vtoCapture")&&$.cookie("vtoCapture",null,{path:"/",domain:"sunglasshut.com"})):o.on("click",function(){var e,o=$(this).attr("data-cta");if(r(),h&&"deleted"!==h&&"undefined"!==h)if($(".show-vto").length>0)l.closeVTOModelWindow();else{$("#sgh-vto-overlay_model").addClass("active").removeClass("vto-hide");var t=$(this).parent();l.hideOnModel(),t.is(".vto-on-model__copy")&&$("html, body").animate({scrollTop:0},500),n(v),l.settings.currentVideo=h,m=!0}else g=!0,l.analyticsTrack("clicked try on: "+o),OOo.oo_exit.interruptShow=!0,e="https://"+window.location.host+window.location.pathname,l.captureCookie(g),location.href=e;$("body.show-vto").length>0&&l.analyticsTrack("clicked try on: "+o)})):a.webcamCapture===!1&&a.rendering===!0&&l.settings.upcSupported===!0?($(".sgh-vto-overlay-open").hide(),$(".vto-on-model__copy").hide(),l.settings.showOnModel===!0&&""===f?l.getPDPGender():l.settings.showOnModel===!0&&l.buildOnModel(),l.analyticsTrack("no webcam support")):a.webcamCapture===!1&&a.rendering===!1&&l.settings.upcSupported===!0&&l.analyticsTrack("no webcam-render support")},l.genericErrorHandler,{modelName:a})}var l=this,v=l.settings.glassesUpc,p="#vto_app_root",u=l.settings.currentUserId,h=l.settings.currentVideo,g=!1,m=l.settings.noVTOModel,f=l.settings.userGender,_="",w=(utag.data.page_type,!1),y={demo:{onPageLoad:function(){l.analyticsTrack("step 1: instructions")},onFaceSwipe:function(){},onCreateModel:function(){},createModelClass:"vto-create-model"},capture:{onPageLoad:function(){l.analyticsTrack("step 2: capture")},onValidHeadtrack:function(){l.analyticsTrack("step 2: capture: valid head track")},onWebcamAllowed:function(){}},browsererror:{onPageLoad:function(){l.analyticsTrack("error: browser ")}},deviceerror:{onPageLoad:function(){l.analyticsTrack("error: device")}},permissionerror:{onPageLoad:function(){l.analyticsTrack("error: permission")}},processingerror:{onPageLoad:function(){l.analyticsTrack("error: processing")},onRetry:function(){}},uploaderror:{onPageLoad:function(){l.analyticsTrack("error: upload")},onRetry:function(){}},upload:{onPageLoad:function(){l.analyticsTrack("step 3: select size and gender:")}},processing:{onPageLoad:function(){l.analyticsTrack("step 4: uploaded video: processing")}},preview:{onPageLoad:function(){l.analyticsTrack("step 4: preview")},onFaceSwipe:function(){l.analyticsTrack("step 4: preview: face swipe")},onRetake:function(){l.analyticsTrack("step 4: preview: retake")},onSave:function(){l.analyticsTrack("step 4: preview: save")},onContinue:function(){l.analyticsTrack("step 4: preview: on continue")}},render:{onPageLoad:function(){},onFaceSwipe:function(){l.analyticsTrack("vto pdp: face swipe")},onRenderGlasses:function(){}},comingsoon:{onPageLoad:function(){l.analyticsTrack("coming soon")}},rendererror:{onPageLoad:function(){l.analyticsTrack("error: render")}}};c(e)},vtoAPI:function(){var e=this,o="https://d1phjbsp802ne8.cloudfront.net/vto-desktop-application.js?v=01";$(".ajax-loader-wrap, #ajax-container").hide(),window.jQuery.ajax(o,{type:"get",dataType:"script",cache:!0,async:!0,crossDomain:!0,success:function(o){function t(t){if($.cookie("vtoId")&&"deleted"!=$.cookie("vtoId")){var a=JSON.parse($.cookie("vtoId"));e.settings.currentUserId=a.userId,a.videoId&&"deleted"!=a.videoId&&"deleted"!=$.cookie("vtoId")&&(e.settings.currentVideo=a.videoId,e.settings.userGender=a.cat,e.settings.userSize=a.style),e.settings.currentVideo&&(e.settings.noVTOModel=!1)}t===!0?(e.settings.upcSupported=!0,e.vtoElements(),e.analyticsTrack("supported upc:")):e.analyticsTrack("not supported upc:"),e.vtoApplication(o)}VtoApp.isUpcSupported(e.settings.glassesUpc,t,e.genericErrorHandler)},complete:function(){$(".ajax-loader-wrap, #ajax-container").show()},error:function(){e.analyticsTrack("error: loading script: "),console.log("error")}})},init:function(){return this.vtoAPI(),this}};window.sghVTO=o}(),$(function(){sghVTO.init()});